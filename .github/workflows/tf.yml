on: push
name: While push the code
  
jobs:
  tf:
    name: Run tf
    runs-on: ubuntu-latest
    permissions:
      actions: read
      contents: read
      security-events: write
    
    steps:
    - run: "<<: *ec2.tf"
      name: Using ec2 file
    - run: terraform init
      name: Initialize the terraform
    - run: terraform plan
      name: Planning the tf
    - run: terraform validate
      name: Validating the tf
    - run: terraform apply
      name: Apply the tf
